
<head>
    <link rel="stylesheet" href="highlight/styles/github.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/github-markdown.css">
    <style>
    .markdown-body {
        box-sizing: border-box;
        min-width: 200px;
        max-width: 980px;
        margin: 0 auto;
        padding: 45px;
    }
    </style>
    <script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s=" crossorigin="anonymous"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="highlight/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
</head>
<body>
<div class="container">
    <article class="markdown-body">
        <h1>Donut</h1>
<pre><code class="scala hljs">import com.knockdata.zeppelin.highcharts._
import com.knockdata.zeppelin.highcharts.model._
import sqlContext.implicits._
import sqlContext.implicits._
import org.apache.spark.sql.functions._

val dataFrame = Seq(
  ("Microsoft Internet Explorer", "v11.0", 24.13),
  ("Microsoft Internet Explorer", "v10.0", 5.33),
  ("Microsoft Internet Explorer", "v9.0", 8.11),
  ("Microsoft Internet Explorer", "v8.0", 17.2),
  ("Microsoft Internet Explorer", "v7.0", 0.5),
  ("Microsoft Internet Explorer", "v6.0", 1.06),
  ("Chrome", "v43.0", 1.45),
  ("Chrome", "v42.0", 3.68),
  ("Chrome", "v41.0", 4.32),
  ("Chrome", "v40.0", 5.0),
  ("Chrome", "v39.0", 2.96),
  ("Chrome", "v38.0", 0.6),
  ("Chrome", "v36.0", 2.53),
  ("Chrome", "v37.0", 0.38),
  ("Chrome", "v35.0", 0.85),
  ("Chrome", "v34.0", 0.14),
  ("Chrome", "v33.0", 0.19),
  ("Chrome", "v32.0", 0.55),
  ("Chrome", "v31.0", 1.24),
  ("Chrome", "v30.0", 0.14),
  ("Firefox", "v38.0", 1.02),
  ("Firefox", "v37.0", 2.31),
  ("Firefox", "v36.0", 2.32),
  ("Firefox", "v35.0", 2.76),
  ("Firefox", "v34.0", 1.27),
  ("Firefox", "v33.0", 0.22),
  ("Firefox", "v32.0", 0.15),
  ("Firefox", "v31.0", 0.22),
  ("Safari", "v8.0", 2.56),
  ("Safari", "v7.1", 0.77),
  ("Safari", "v7.0", 0.26),
  ("Safari", "v6.2", 0.17),
  ("Safari", "v6.1", 0.29),
  ("Safari", "v5.1", 0.42),
  ("Safari", "v5.0", 0.3),
  ("Opera", "v29", 0.16),
  ("Opera", "v28", 0.24),
  ("Opera", "v27", 0.17),
  ("Opera", "v12.x", 0.34)
).map{
  case (b, v, s) => (b, b + " " + v, s)
}.toDF("browser", "version", "share")

val seriesBrowser = Series(dataFrame,
  "name" -> "browser",
  "y" -> sum(col("share")),
  "orderBy" -> col("browser"))
  .size("60%")
  .dataLabels(
    "distance" -> -30,
    "formatter" ->
      """
function() {
  return this.y > 1 ? this.point.name : null;
}
      """.stripMargin)

val seriesVersion = Series(dataFrame,
  "name" -> "version",
  "y" -> "share",
  "orderBy" -> col("browser"))
  .size("80%")
  .innerSize("60%")
  .dataLabels("formatter" ->
    """
function() {
  return this.y > 1 ? this.point.name : null;
}
    """.stripMargin)

val chart = new Highcharts(List(seriesBrowser, seriesVersion))
  .chart(Chart.pie)

chart.plot()
</code></pre>

<div id="container" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
<script>
 $(function () {
   var data = {
  "series":[{
    "size":"60%",
    "dataLabels":{
      "distance":-30,
      "formatter":
function() {
  return this.y > 1 ? this.point.name : null;
}
          
    },
    "data":["[browser: string, version: string, share: double]",["name","browser"],["y","sum(share)"],["orderBy","browser"]]
  },{
    "size":"80%",
    "innerSize":"60%",
    "dataLabels":{
      "formatter":
function() {
  return this.y > 1 ? this.point.name : null;
}
        
    },
    "data":["[browser: string, version: string, share: double]",["name","version"],["y","share"],["orderBy","browser"]]
  }],
  "chart":{
    "type":"pie"
  }
}
   $('#container').highcharts(data);
 });

 $(document).on("keydown", function(e) {
            var code = e.which;
            if (code == 37) { // left
             window.location.href = 'demoSplineWithPlotBands.html';
            }
            else if (code == 38) { // up
            }
            else if (code == 39) { // right
               window.location.href = 'demoLineBasicMultipleSeriesWithOption.html';
            } else if (code == 40) { // down

            }
        });
</script>
 </article>
</div>
</body>
      